LAYER
    NAME 'airedejeux'
    TYPE POINT
    STATUS ON
    TEMPLATE fooOnlyForWMSGetFeatureInfo # For GetFeatureInfo
    EXTENT 420107 5398192 442381 5412352
    CONNECTIONTYPE postgis
    PROCESSING "CLOSE_CONNECTION=DEFER" # For performance
    CONNECTION "${mapserver_connection}"
    # Example data for secured layer by restriction area
    #DATA "geom FROM (SELECT geo.geom as geom, gid, nom_aire, toboggan_label, tourniquet_label FROM geodata.airedejeux AS geo, ${mapserver_join_tables} WHERE ST_Contains(${mapserver_join_area}, geo.geom) AND ${mapserver_join_where} 'airedejeux') AS foo USING UNIQUE gid USING srid=3857"

    # Example data for secured layer by role (without any area)
    #DATA "geometrie FROM (SELECT geo.geom as geom FROM geodata.table AS geo WHERE %role_id% IN (${mapfile_data_noarea_subselect} 'layer_name')) as foo USING UNIQUE gid USING srid=-1"
    # Example data for public layer
    DATA "geom FROM (SELECT geo.geom as geom, gid, nom_aire, toboggan_label, tourniquet_label FROM geodata.airedejeux AS geo) AS foo USING UNIQUE gid USING srid=3857"

    DUMP TRUE # For GetFeatureInfo
    PROJECTION
      "init=epsg:3857"
    END
    TOLERANCE 10 
    LABELITEM "nom_aire"
    CLASS
        NAME "Aire de jeux"
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 30 0 0
          COLOR 230 0 0
        END
        LABEL
          COLOR  150 0 0
          OUTLINECOLOR 255 255 255
          FONT "arial"
          TYPE truetype
          SIZE 8
          POSITION lc
          PARTIALS FALSE
          MAXSCALEDENOM 15000
        END
    END

    METADATA
        "wms_title" "airedejeux" # For WMS
        "wms_srs" "epsg:3857" # For WMS

        "gml_include_items" "nom_aire,toboggan_label,tourniquet_label"  # For GetFeatureInfo and WFS GetFeature (QuerryBuilder)
        "ows_geom_type" "point" # For returning geometries in GetFeatureInfo
        "ows_geometries" "geom" # For returning geometries in GetFeatureInfo

        "wms_metadataurl_href" "http://opendata.montpelliernumerique.fr/Aires-de-jeux-par-type" # For metadata URL
        "wms_metadataurl_format" "text/html" # For metadata URL
        "wms_metadataurl_type" "TC211" # For metadata URL

        ${mapserver_layer_metadata} # For secured layers
    END
END

LAYER
    NAME 'camera'
    TYPE POINT
    STATUS ON
    #DEBUG 4
    TEMPLATE fooOnlyForWMSGetFeatureInfo # For GetFeatureInfo
    EXTENT 420107 5398192 442381 5412352
    CONNECTIONTYPE postgis
    PROCESSING "CLOSE_CONNECTION=DEFER" # For performance
    CONNECTION "${mapserver_connection}"
    # Example data for secured layer by restriction area
    #DATA "geom FROM (SELECT geo.geom as geom, gid FROM geodata.camera AS geo, ${mapserver_join_tables} WHERE ST_Contains(${mapserver_join_area}, geo.geom) AND ${mapserver_join_where} 'camera') AS foo USING UNIQUE gid USING srid=3857"

    # Example data for secured layer by role (without any area)
    #DATA "geometrie FROM (SELECT geo.geom as geom FROM geodata.table AS geo WHERE %role_id% IN (${mapfile_data_noarea_subselect} 'layer_name')) as foo USING UNIQUE gid USING srid=-1"
    # Example data for public layer
    DATA "geom FROM (SELECT geo.geom as geom, gid FROM geodata.camera AS geo) AS foo USING UNIQUE gid USING srid=3857"

    DUMP TRUE # For GetFeatureInfo
    PROJECTION
      "init=epsg:3857"
    END

    CLASS
        NAME "Camera"
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 30 30 30
          COLOR 100 100 100
        END
    END

    METADATA
        "wms_title" "camera" # For WMS
        "wms_srs" "epsg:3857" # For WMS

        "gml_include_items" ""  # For GetFeatureInfo and WFS GetFeature (QuerryBuilder)
        "ows_geom_type" "point" # For returning geometries in GetFeatureInfo
        "ows_geometries" "geom" # For returning geometries in GetFeatureInfo

        #"wms_metadataurl_href" "http://www.example.com/bar" # For metadata URL
        #"wms_metadataurl_format" "text/html" # For metadata URL
        #"wms_metadataurl_type" "TC211" # For metadata URL

        ${mapserver_layer_metadata} # For secured layers
    END
END

LAYER
    NAME 'eclairage'
    TYPE POINT
    STATUS ON
    #DEBUG 4
    TEMPLATE fooOnlyForWMSGetFeatureInfo # For GetFeatureInfo
    EXTENT 420107 5398192 442381 5412352
    CONNECTIONTYPE postgis
    PROCESSING "CLOSE_CONNECTION=DEFER" # For performance
    CONNECTION "${mapserver_connection}"
    # Example data for secured layer by restriction area
    DATA "geom FROM (SELECT geo.geom as geom, gid, materiau, geo.type FROM geodata.eclairage AS geo, ${mapserver_join_tables} WHERE ST_Contains(${mapserver_join_area}, geo.geom) AND ${mapserver_join_where} 'eclairage') AS foo USING UNIQUE gid USING srid=3857"

    # Example data for secured layer by role (without any area)
    #DATA "geometrie FROM (SELECT geo.geom as geom FROM geodata.table AS geo WHERE %role_id% IN (${mapfile_data_noarea_subselect} 'layer_name')) as foo USING UNIQUE gid USING srid=-1"
    # Example data for public layer
    #DATA "geom FROM (SELECT geo.geom as geom, gid FROM geodata.airedejeux AS geo) AS foo USING UNIQUE gid USING srid=3857"

    DUMP TRUE # For GetFeatureInfo
    PROJECTION
      "init=epsg:3857"
    END
    MAXSCALEDENOM 3600
    CLASSITEM "type"
    CLASS
        NAME "Candelabre"
        EXPRESSION "Candélabre"
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 88 88 16
          COLOR 255 255 192
        END
    END
    CLASS
        NAME "Poteaux en bois ou béton"
        EXPRESSION /^Poteau.*$/
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 88 88 88
          COLOR 155 155 155
        END
   END
   CLASS
        NAME "Lanterne façade"
        EXPRESSION "Lanterne façade"
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 88 16 88
          COLOR 255 192 255 
        END
    END
    CLASS
        NAME "Mât d'ambiance ou d'éclairage"
        EXPRESSION /^Mât.*$/
        STYLE
          SYMBOL "circle"
          SIZE 7
          WIDTH 2
          OUTLINECOLOR 88 88 16
          COLOR 255 255 192
        END
   END
   CLASS
        NAME "Borne"
        EXPRESSION "Borne colonne" 
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 16 88 88
          COLOR 192 255 255
        END
   END
   CLASS
        NAME "Encastré sol ou mur"
        EXPRESSION /^Encastré.*$/ 
        STYLE
           SYMBOL "cross"
           SIZE 12
           WIDTH 2
           COLOR 0 0 0
       END
       STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 88 88 16
          COLOR 255 255 192
        END
   END
   CLASS
        NAME "Autre"
        STYLE
          SYMBOL "circle"
          SIZE 8
          WIDTH 1
          OUTLINECOLOR 100 100 100
          COLOR 200 200 200
        END
   END

    METADATA
        "wms_title" "Eclairage" # For WMS
        "wms_srs" "epsg:3857" # For WMS

        "gml_include_items" "materiau,type"  # For GetFeatureInfo and WFS GetFeature (QuerryBuilder)
        "ows_geom_type" "point" # For returning geometries in GetFeatureInfo
        "ows_geometries" "geom" # For returning geometries in GetFeatureInfo

        #"wms_metadataurl_href" "http://www.example.com/bar" # For metadata URL
        #"wms_metadataurl_format" "text/html" # For metadata URL
        #"wms_metadataurl_type" "TC211" # For metadata URL

        ${mapserver_layer_metadata} # For secured layers
    END
END

LAYER
    NAME 'recyclage'
    TYPE POINT
    STATUS ON
    #DEBUG 4
    TEMPLATE fooOnlyForWMSGetFeatureInfo # For GetFeatureInfo
    EXTENT 420107 5398192 442381 5412352
    CONNECTIONTYPE postgis
    PROCESSING "CLOSE_CONNECTION=DEFER" # For performance
    CONNECTION "${mapserver_connection}"
    # Example data for secured layer by restriction area
    DATA "geom FROM (SELECT geo.geom as geom, gid FROM geodata.recyclage AS geo, ${mapserver_join_tables} WHERE ST_Contains(${mapserver_join_area}, geo.geom) AND ${mapserver_join_where} 'recyclage') AS foo USING UNIQUE gid USING srid=3857"

    # Example data for secured layer by role (without any area)
    #DATA "geometrie FROM (SELECT geo.geom as geom FROM geodata.table AS geo WHERE %role_id% IN (${mapfile_data_noarea_subselect} 'layer_name')) as foo USING UNIQUE gid USING srid=-1"
    # Example data for public layer
    #DATA "geom FROM (SELECT geo.geom as geom, gid FROM geodata.airedejeux AS geo) AS foo USING UNIQUE gid USING srid=3857"

    DUMP TRUE # For GetFeatureInfo
    PROJECTION
      "init=epsg:3857"
    END
    TOLERANCE 10
    CLASS
        NAME "Recyclage"

        #STYLE
        #  SYMBOL "circle"
        #  SIZE 14
        #  WIDTH 1
        #  OUTLINECOLOR 0 64 0
        #  COLOR 192 255 192
        #END
        STYLE
          SYMBOL "recyclage-png"
          SIZE 20
          WIDTH 1
          OUTLINECOLOR 0 64 0
          COLOR 192 255 192
        END
    END

    METADATA
        "wms_title" "recyclage" # For WMS
        "wms_srs" "epsg:3857" # For WMS

        "gml_include_items" ""  # For GetFeatureInfo and WFS GetFeature (QuerryBuilder)
        "ows_geom_type" "point" # For returning geometries in GetFeatureInfo
        "ows_geometries" "geom" # For returning geometries in GetFeatureInfo

        #"wms_metadataurl_href" "http://www.example.com/bar" # For metadata URL
        #"wms_metadataurl_format" "text/html" # For metadata URL
        #"wms_metadataurl_type" "TC211" # For metadata URL

        ${mapserver_layer_metadata} # For secured layers
    END
END
